<html>
<head>
<script>
function envoyer(){
    //Récuppération des valeurs saisies pas l'utilisateurr
	var rue = document.getElementById('rue').value;
    var ville = document.getElementById('code').value;
    
	//API issu de https://adresse.data.gouv.fr/api-doc/adresse
	
	//Création de l'object Ajax
	var req= new XMLHttpRequest();
    //Préparation de requette
	req.open("GET","https://api-adresse.data.gouv.fr/search/?q="+rue+"&postcode="+ville,false); 
    //Envois de l'information au serveur
	req.send(null); 
    //Reception et affichage du résultatt
	var geocodeObjet = JSON.parse(req.responseText);
    
    //Filtre pour récuppérer uniquement les valeurs GPS de l'adresses
    var long = geocodeObjet.features[0].geometry.coordinates[0];
    var lat = geocodeObjet.features[0].geometry.coordinates[1];

    var requete_pour_carte_php = new XMLHttpRequest();
    var url = "./lacarte.php?longitude=" + long + "&latitude=" + lat;
    requete_pour_carte_php.open("GET", url, false);
    requete_pour_carte_php.send();

    var resultat = requete_pour_carte_php.responseText;
    document.getElementById("result").innerHTML = resultat;
    
   
}    
</script>

</head>    

<body>
<p>Adresse <input id="rue"/></p>
<p>Code postal <input id="code"/></p>
<button onclick="envoyer()">Envoyer</button>
<p id="result"></p>

</body>
</html>